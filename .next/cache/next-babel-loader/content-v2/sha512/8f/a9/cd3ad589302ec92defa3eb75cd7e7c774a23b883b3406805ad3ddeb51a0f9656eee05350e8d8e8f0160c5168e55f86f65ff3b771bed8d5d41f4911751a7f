{"ast":null,"code":"import { useRouter } from \"next/router\";\n\nvar withAuth = function withAuth(WrappedComponent) {\n  return function (props) {\n    // checks whether we are on client / browser or server.\n    if (false) {\n      var Router = useRouter();\n      var accessToken = localStorage.getItem(\"accessToken\"); // If there is no access token we redirect to \"/\" page.\n\n      if (!accessToken) {\n        Router.replace(\"/login\");\n        return null;\n      } // If this is an accessToken we just render the component that was passed with all its props\n\n\n      return /*#__PURE__*/React.createElement(WrappedComponent, props);\n    } // If we are on server, return null\n\n\n    return null;\n  };\n};\n\nexport default withAuth;","map":{"version":3,"sources":["/Users/rowengracious/DroneInsurance/my-test-app/src/services/withAuth.js"],"names":["useRouter","withAuth","WrappedComponent","props","Router","accessToken","localStorage","getItem","replace"],"mappings":"AAAA,SAASA,SAAT,QAA0B,aAA1B;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,gBAAD,EAAsB;AACrC,SAAO,UAACC,KAAD,EAAW;AAChB;AACA,eAAmC;AACjC,UAAMC,MAAM,GAAGJ,SAAS,EAAxB;AAEA,UAAMK,WAAW,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAApB,CAHiC,CAKjC;;AACA,UAAI,CAACF,WAAL,EAAkB;AAChBD,QAAAA,MAAM,CAACI,OAAP,CAAe,QAAf;AACA,eAAO,IAAP;AACD,OATgC,CAWjC;;;AAEA,0BAAO,oBAAC,gBAAD,EAAsBL,KAAtB,CAAP;AACD,KAhBe,CAkBhB;;;AACA,WAAO,IAAP;AACD,GApBD;AAqBD,CAtBD;;AAwBA,eAAeF,QAAf","sourcesContent":["import { useRouter } from \"next/router\";\n\nconst withAuth = (WrappedComponent) => {\n  return (props) => {\n    // checks whether we are on client / browser or server.\n    if (typeof window !== \"undefined\") {\n      const Router = useRouter();\n\n      const accessToken = localStorage.getItem(\"accessToken\");\n\n      // If there is no access token we redirect to \"/\" page.\n      if (!accessToken) {\n        Router.replace(\"/login\");\n        return null;\n      }\n\n      // If this is an accessToken we just render the component that was passed with all its props\n\n      return <WrappedComponent {...props} />;\n    }\n\n    // If we are on server, return null\n    return null;\n  };\n};\n\nexport default withAuth;"]},"metadata":{},"sourceType":"module"}